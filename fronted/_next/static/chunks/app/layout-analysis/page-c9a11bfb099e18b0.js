(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[426],{2085:(e,r,t)=>{"use strict";t.d(r,{F:()=>n});var s=t(2596);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=s.$,n=(e,r)=>t=>{var s;if((null==r?void 0:r.variants)==null)return l(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:n,defaultVariants:i}=r,d=Object.keys(n).map(e=>{let r=null==t?void 0:t[e],s=null==i?void 0:i[e];if(null===r)return null;let l=a(r)||a(s);return n[e][l]}),c=t&&Object.entries(t).reduce((e,r)=>{let[t,s]=r;return void 0===s||(e[t]=s),e},{});return l(e,d,null==r?void 0:null===(s=r.compoundVariants)||void 0===s?void 0:s.reduce((e,r)=>{let{class:t,className:s,...a}=r;return Object.entries(a).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...i,...c}[r]):({...i,...c})[r]===t})?[...e,t,s]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}},3999:(e,r,t)=>{"use strict";t.d(r,{cn:()=>l});var s=t(2596),a=t(9688);function l(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}},4891:(e,r,t)=>{Promise.resolve().then(t.bind(t,8723))},7168:(e,r,t)=>{"use strict";t.d(r,{$:()=>c});var s=t(5155),a=t(2115),l=t(9708),n=t(2085),i=t(3999);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,r)=>{let{className:t,variant:a,size:n,asChild:c=!1,...o}=e,u=c?l.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(d({variant:a,size:n,className:t})),ref:r,...o})});c.displayName="Button"},8145:(e,r,t)=>{"use strict";t.d(r,{E:()=>i});var s=t(5155);t(2115);var a=t(2085),l=t(3999);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:t,...a}=e;return(0,s.jsx)("div",{className:(0,l.cn)(n({variant:t}),r),...a})}},8482:(e,r,t)=>{"use strict";t.d(r,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>i,wL:()=>u});var s=t(5155),a=t(2115),l=t(3999);let n=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});n.displayName="Card";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"},8723:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var s=t(5155),a=t(2115),l=t(7168),n=t(8482),i=t(9869),d=t(9946);let c=(0,d.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),o=(0,d.A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var u=t(8145),m=t(2085),f=t(3999);let x=(0,m.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),v=a.forwardRef((e,r)=>{let{className:t,variant:a,...l}=e;return(0,s.jsx)("div",{ref:r,role:"alert",className:(0,f.cn)(x({variant:a}),t),...l})});v.displayName="Alert";let h=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("h5",{ref:r,className:(0,f.cn)("mb-1 font-medium leading-none tracking-tight",t),...a})});h.displayName="AlertTitle";let p=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:r,className:(0,f.cn)("text-sm [&_p]:leading-relaxed",t),...a})});function g(){let[e,r]=(0,a.useState)(null),[t,d]=(0,a.useState)(!1),[m,f]=(0,a.useState)(!1),[x,g]=(0,a.useState)([]),y=async()=>{if(e){f(!0);try{let r=await fetch("https://btmnqm9fu9.execute-api.us-west-2.amazonaws.com/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:e})}),t=await r.json();g(t.suggestions),d(!0),f(!1)}catch(e){console.error("分析失敗:",e),f(!1)}}};return(0,s.jsxs)("main",{className:"container py-10",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-6 text-center mb-10",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl",children:"AI 幫你分析空間配置"}),(0,s.jsx)("p",{className:"text-muted-foreground max-w-[700px]",children:"上傳照片，獲取專業的空間分析與安全建議"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(n.Zp,{children:(0,s.jsx)(n.Wu,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,s.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-12 w-full flex flex-col items-center justify-center cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{var e;return null===(e=document.getElementById("layout-image-upload"))||void 0===e?void 0:e.click()},children:[e?(0,s.jsx)("div",{className:"relative w-full aspect-video",children:(0,s.jsx)("img",{src:e||"/placeholder.svg",alt:"Uploaded space",className:"w-full h-full object-cover rounded-md"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"點擊或拖曳上傳空間照片或平面圖"})]}),(0,s.jsx)("input",{id:"layout-image-upload",type:"file",accept:"image/*",className:"hidden",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){let e=new FileReader;e.onload=e=>{var t;r(null===(t=e.target)||void 0===t?void 0:t.result),d(!1)},e.readAsDataURL(s)}}})]}),e&&(0,s.jsx)(l.$,{variant:"outline",onClick:()=>{var e;return null===(e=document.getElementById("layout-image-upload"))||void 0===e?void 0:e.click()},children:"更換照片"})]})})}),(0,s.jsx)(l.$,{className:"w-full",size:"lg",disabled:!e||m,onClick:y,children:m?"分析中...":"開始分析空間"}),t&&(0,s.jsxs)(n.Zp,{children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsx)(n.ZB,{children:"空間使用與家具建議"}),(0,s.jsx)(n.BT,{children:"根據您的空間照片，我們提供以下建議"})]}),(0,s.jsx)(n.Wu,{children:(0,s.jsx)("div",{className:"space-y-4",children:x.map(e=>(0,s.jsx)("div",{className:"flex items-start space-x-3 p-3 rounded-md bg-muted/50",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium",children:e.issue}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.suggestion})]})},e.id))})})]})]}),(0,s.jsx)("div",{className:"space-y-6",children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.Zp,{children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsx)(n.ZB,{children:"空間配置參考"}),(0,s.jsx)(n.BT,{children:"平面圖展示與家具配置"})]}),(0,s.jsx)(n.Wu,{className:"p-6",children:(0,s.jsxs)("div",{className:"relative aspect-video bg-muted rounded-md overflow-hidden",children:[(0,s.jsx)("img",{src:e||"/placeholder.svg",alt:"Space layout analysis",className:"w-full h-full object-cover opacity-80"}),(0,s.jsx)("div",{className:"absolute top-[20%] left-[30%] w-16 h-16 border-2 border-green-500 rounded-md flex items-center justify-center bg-green-500/20",children:(0,s.jsx)(u.E,{variant:"outline",className:"bg-background",children:"書桌"})}),(0,s.jsx)("div",{className:"absolute top-[40%] left-[60%] w-24 h-12 border-2 border-blue-500 rounded-md flex items-center justify-center bg-blue-500/20",children:(0,s.jsx)(u.E,{variant:"outline",className:"bg-background",children:"沙發"})}),(0,s.jsx)("div",{className:"absolute top-[70%] left-[20%] w-12 h-12 border-2 border-red-500 rounded-md flex items-center justify-center bg-red-500/20",children:(0,s.jsx)(u.E,{variant:"outline",className:"bg-background",children:"危險區"})})]})})]}),(0,s.jsxs)(n.Zp,{children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsxs)(n.ZB,{className:"flex items-center",children:[(0,s.jsx)(c,{className:"h-5 w-5 text-amber-500 mr-2"}),"安全報告"]}),(0,s.jsx)(n.BT,{children:"我們發現以下潛在安全問題"})]}),(0,s.jsx)(n.Wu,{children:(0,s.jsx)("div",{className:"space-y-4",children:[{id:1,type:"滑倒風險",location:"客廳",description:"地板濕滑區域",severity:"中"},{id:2,type:"通道過窄",location:"走廊",description:"走道寬度不足",severity:"高"},{id:3,type:"家具邊角",location:"臥室",description:"尖銳桌角有危險",severity:"低"}].map(e=>(0,s.jsxs)(v,{variant:"高"===e.severity?"destructive":"中"===e.severity?"default":"outline",children:[(0,s.jsx)(c,{className:"h-4 w-4"}),(0,s.jsxs)(h,{className:"flex items-center gap-2",children:[e.type,(0,s.jsxs)(u.E,{children:[e.severity,"風險"]})]}),(0,s.jsxs)(p,{children:["位置：",e.location," - ",e.description]})]},e.id))})}),(0,s.jsx)(n.wL,{children:(0,s.jsxs)(l.$,{className:"w-full",children:[(0,s.jsx)(o,{className:"mr-2 h-4 w-4"}),"下載安全報告 PDF"]})})]})]}):(0,s.jsx)(n.Zp,{className:"h-full",children:(0,s.jsxs)(n.Wu,{className:"p-6 flex flex-col items-center justify-center h-full min-h-[400px] text-center",children:[(0,s.jsx)(o,{className:"h-16 w-16 text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium",children:"尚未分析空間"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground max-w-md mt-2",children:"上傳您的空間照片後，點擊「開始分析空間」按鈕來獲取 AI 分析結果。"})]})})})]})]})}p.displayName="AlertDescription"},9869:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(9946).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},9946:(e,r,t)=>{"use strict";t.d(r,{A:()=>d});var s=t(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,r)=>{let{color:t="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:c="",children:o,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:r,...n,width:a,height:a,stroke:t,strokeWidth:d?24*Number(i)/Number(a):i,className:l("lucide",c),...m},[...u.map(e=>{let[r,t]=e;return(0,s.createElement)(r,t)}),...Array.isArray(o)?o:[o]])}),d=(e,r)=>{let t=(0,s.forwardRef)((t,n)=>{let{className:d,...c}=t;return(0,s.createElement)(i,{ref:n,iconNode:r,className:l("lucide-".concat(a(e)),d),...c})});return t.displayName="".concat(e),t}}},e=>{var r=r=>e(e.s=r);e.O(0,[848,441,684,358],()=>r(4891)),_N_E=e.O()}]);